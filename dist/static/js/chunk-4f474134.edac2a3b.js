(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f474134"],{3310:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app-container"},[e("el-date-picker",{staticClass:"filter-item",staticStyle:{"margin-right":"8px","margin-bottom":"10px"},attrs:{type:"date",format:"dd-MM-yyyy",placeholder:"Dari"},model:{value:t.start,callback:function(n){t.start=n},expression:"start"}}),e("el-date-picker",{staticClass:"filter-item",staticStyle:{"margin-bottom":"10px","margin-right":"10px"},attrs:{type:"date",format:"dd-MM-yyyy",placeholder:"Sampai"},model:{value:t.end,callback:function(n){t.end=n},expression:"end"}}),e("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.filterReportByDate}},[t._v(" Filter ")]),e("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(" Export ")]),e("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-print"}},[t._v(" Print ")]),e("div",{attrs:{id:"printMe"}},[e("GChart",{staticStyle:{position:"relative",left:"-240px"},attrs:{type:"PieChart",options:t.options,data:t.data}}),e("h3",{staticStyle:{"margin-left":"20px"}},[t._v("Total Penjualan : "+t._s(t.handleCurrency(t.total_penjualan)))]),e("h3",{staticStyle:{"margin-left":"20px"}},[t._v("Produk Terjual : "+t._s(t.total_produk))]),e("el-table",{attrs:{data:t.list}},[e("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",[t._v(t._s(a.id))])]}}])}),e("el-table-column",{attrs:{label:"Nama","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",{staticClass:"link-type"},[t._v(t._s(a.name))])]}}])}),e("el-table-column",{attrs:{label:"Total Penjualan","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",[t._v(t._s(t.handleCurrency(a.substocktransaction_sum_total)))])]}}])}),e("el-table-column",{attrs:{label:"Total Barang","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.row;return[e("span",[t._v(t._s(a.substocktransaction_sum_qty))])]}}])})],1)],1)],1)},r=[],o=(e("d81d"),e("b0c0"),e("d3b7"),e("3ca3"),e("ddb0"),e("ac1f"),e("1276"),e("cb43")),i=e("0d5e"),s={name:"App",components:{GChart:o["GChart"]},created:function(){var t=this;i["a"].get("/stock/out/report").then((function(n){t.list=n.data.stocktransaction,console.log(n);var e=0,a=0;n.data.stocktransaction.map((function(n){t.data.push([n.name,n.substocktransaction_sum_total]),e+=n.substocktransaction_sum_total,a+=n.substocktransaction_sum_qty})),t.total_penjualan=e,t.total_produk=a}))},methods:{handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([e.e("chunk-519483dc"),e.e("chunk-181fab9f"),e.e("chunk-2141e892")]).then(e.bind(null,"4bf8")).then((function(n){var e=["id","Customer","Total Barang","Total Penjualan"],a=["id","name","substocktransaction_sum_qty","substocktransaction_sum_total"],r=t.formatJson(a);n.export_json_to_excel({header:e,data:r,filename:"laporan_penjualan"}),t.downloadLoading=!1}))},formatJson:function(t){return this.list.map((function(n){return t.map((function(t){return n[t]}))}))},filterReportByDate:function(){var t=this;this.listLoading=!0;var n={start_date:this.start.toISOString().split("T")[0],end_date:this.end.toISOString().split("T")[0]};i["a"].post("/stock/out/report",n).then((function(n){console.log(n),t.data=[["laporan","penjualan"]];var e=0,a=0;n.data.stocktransaction.map((function(n){t.data.push([n.name,n.substocktransaction_sum_total]),e+=n.substocktransaction_sum_total,a+=n.substocktransaction_sum_qty})),t.total_penjualan=e,t.total_produk=a,console.log(t.data),t.list=n.data.stocktransaction,setTimeout((function(){t.listLoading=!1}),1500)}))},handleCurrency:function(t){var n=new Intl.NumberFormat("in-IN",{style:"currency",currency:"IDR"}).format(t);return n}},data:function(){return{start:"",end:"",total_penjualan:"",total_produk:"",list:"",data:[["laporan","penjualan"]],options:{width:1100,height:400}}}},c=s,u=e("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);n["default"]=l.exports},"757f":function(t,n,e){(function(n){t.exports=function(t){function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(t,n,e){"use strict";function a(){return window.google&&window.google.charts?Promise.resolve(window.google.charts):(s||(s=new Promise((function(t){var n=document.createElement("script");n.type="text/javascript",n.onload=function(){return t(window.google.charts)},n.src=i,document.body.appendChild(n)}))),s)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a().then((function(e){if("object"!==(void 0===n?"undefined":o(n)))throw new Error("Google Charts loader: settings must be an object");var a=t+"_"+JSON.stringify(n,Object.keys(n).sort());if(c.has(a))return c.get(a);var r=new Promise((function(a){e.load(t,n),e.setOnLoadCallback((function(){return a(window.google)}))}));return c.set(a,r),r}))}n.a=r;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="https://www.gstatic.com/charts/loader.js",s=null,c=new Map},function(t,n,e){var a=e(5)(e(4),e(6),null,null);t.exports=a.exports},function(t,n){t.exports=function(t,n,e){function a(){var u=Date.now()-s;u<n&&u>=0?r=setTimeout(a,n-u):(r=null,e||(c=t.apply(i,o),i=o=null))}var r,o,i,s,c;null==n&&(n=100);var u=function(){i=this,o=arguments,s=Date.now();var u=e&&!r;return r||(r=setTimeout(a,n)),u&&(c=t.apply(i,o),i=o=null),c};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(c=t.apply(i,o),i=o=null,clearTimeout(r),r=null)},u}},function(t,e,a){"use strict";function r(t){t.component("GChart",s.a)}Object.defineProperty(e,"__esModule",{value:!0}),e.install=r;var o=a(0),i=a(1),s=a.n(i);a.d(e,"loadGoogleCharts",(function(){return o.a})),a.d(e,"GChart",(function(){return s.a}));var c={version:"0.3.3",install:r};e.default=c;var u=null;"undefined"!=typeof window?u=window.Vue:"undefined"!=typeof n&&(u=n.Vue),u&&u.use(c)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(0),r=e(2),o=e.n(r),i=function(){function t(t,n){var e=[],a=!0,r=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done)&&(e.push(i.value),!n||e.length!==n);a=!0);}catch(c){r=!0,o=c}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=null;n.default={name:"GChart",props:{type:{type:String},data:{type:[Array,Object],default:function(){return[]}},options:{type:Object,default:function(){return{}}},version:{type:String,default:"current"},settings:{type:Object,default:function(){return{packages:["corechart","table"]}}},events:{type:Object},createChart:{type:Function},resizeDebounce:{type:Number,default:200}},data:function(){return{chartObject:null}},watch:{data:{deep:!0,handler:function(){this.drawChart()}},options:{deep:!0,handler:function(){this.drawChart()}},type:function(t){this.createChartObject(),this.drawChart()}},mounted:function(){var t=this;e.i(a.a)(this.version,this.settings).then((function(n){c=n;var e=t.createChartObject();t.$emit("ready",e,n),t.drawChart()})),this.resizeDebounce>0&&window.addEventListener("resize",o()(this.drawChart,this.resizeDebounce))},beforeDestroy:function(){this.chartObject&&"function"==typeof this.chartObject.clearChart&&this.chartObject.clearChart()},methods:{drawChart:function(){if(c&&this.chartObject){var t=this.getValidChartData();t&&this.chartObject.draw(t,this.options)}},getValidChartData:function(){return this.data instanceof c.visualization.DataTable||this.data instanceof c.visualization.DataView?this.data:Array.isArray(this.data)?c.visualization.arrayToDataTable(this.data):null!==this.data&&"object"===s(this.data)?new c.visualization.DataTable(this.data):null},createChartObject:function(){var t=function(t,n,e){if(!e)throw new Error("please, provide chart type property");return new n.visualization[e](t)},n=this.createChart||t;return this.chartObject=n(this.$refs.chart,c,this.type),this.attachListeners(),this.chartObject},attachListeners:function(){var t=this;this.events&&Object.entries(this.events).forEach((function(n){var e=i(n,2),a=e[0],r=e[1];c.visualization.events.addListener(t.chartObject,a,r)}))}}}},function(t,n){t.exports=function(t,n,e,a){var r,o=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(r=t,o=t.default);var s="function"==typeof o?o.options:o;if(n&&(s.render=n.render,s.staticRenderFns=n.staticRenderFns),e&&(s._scopeId=e),a){var c=s.computed||(s.computed={});Object.keys(a).forEach((function(t){var n=a[t];c[t]=function(){return n}}))}return{esModule:r,exports:o,options:s}}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{ref:"chart"})},staticRenderFns:[]}}])}).call(this,e("c8ba"))},cb43:function(t,n,e){"use strict";var a=e("757f");e.o(a,"GChart")&&e.d(n,"GChart",(function(){return a["GChart"]}))}}]);