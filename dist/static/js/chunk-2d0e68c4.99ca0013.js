(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e68c4"],{"98e4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[0==e.list.length?a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v(" Input Kode Lisensi ")]):e._e(),a("br"),a("a",{staticStyle:{color:"blue"},attrs:{href:"https://produk.ruasdigital.id",target:"_blank"}},[e._v("kode lisensi dapat ditemukan di sini")]),a("br")],1),a("br"),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"ID",prop:"id",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.id))])]}}])}),a("el-table-column",{attrs:{label:"Lisensi"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.licence))])]}}])}),a("el-table-column",{attrs:{label:"Kode Produk"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.code))])]}}])}),a("el-table-column",{attrs:{label:"Nama Perusahaan",align:"center",sortable:"",prop:"cashin"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.company))])]}}])}),a("el-table-column",{attrs:{label:"Alamat/Kontak",align:"center",sortable:"",prop:"cashin"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.address))])]}}])}),a("el-table-column",{attrs:{label:"Actions",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleDelete(n)}}},[e._v(" Delete ")])]}}])})],1),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"520px","margin-left":"50px"},attrs:{"label-position":"left","label-width":"150px"}},[a("el-form-item",{attrs:{label:"Lisensi"}},[a("el-input",{attrs:{placeholder:"Lisensi"},model:{value:e.licence,callback:function(t){e.licence=t},expression:"licence"}})],1),a("el-form-item",{attrs:{label:"Kode Produk"}},[a("el-input",{attrs:{placeholder:"Produk Kode"},model:{value:e.product_code,callback:function(t){e.product_code=t},expression:"product_code"}})],1),a("el-form-item",{attrs:{label:"Nama Perusahaan"}},[a("el-input",{attrs:{placeholder:"Nama Perusahaan"},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1),a("el-form-item",{attrs:{label:"Alamat/Contact"}},[a("el-input",{attrs:{placeholder:"Alamat/Contact"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" Cancel ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" Confirm ")])],1)],1)],1)},i=[],l=a("1da1"),s=(a("96cf"),a("99af"),a("0d5e")),o={name:"ComplexTable",data:function(){return{licence:"",product_code:"",company:"",address:"",dialogStatus:"",dialogFormVisible:!1,list:"",listLoading:"",total:"",textMap:{update:"Edit",create:"Buat "}}},created:function(){this.getList()},methods:{getList:function(){var e=this;s["a"].get("/licence").then((function(t){console.log(t.data),null!=t.data.licence?e.list=[t.data.licence]:e.list=[]})).catch((function(t){t.response.data.success||e.$notify({title:"Error",message:"Data Belum Lengkap",type:"danger",duration:2e3})})),this.listLoading=!0,console.log(localStorage.getItem("licence")),this.total=[],this.listLoading=!1},handleCreate:function(){this.dialogStatus="create",this.dialogFormVisible=!0},createData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={licence:e.licence,product_code:e.product_code,company:e.company,address:e.address},t.next=3,s["a"].get("https://lisensi.ruasdigital.id/api/setting?product_code=".concat(a.product_code,"&licence=").concat(a.licence,"&domain=").concat(window.location.hostname)).then((function(t){console.log(t),s["a"].post("/licence/create",a).then((function(t){console.log("berhasil"),e.getList()})).catch((function(t){t.response.data.success?(console.log("berhasil"),e.getList()):e.$notify({title:"Error",message:"Data Belum Lengkap",type:"danger",duration:2e3})}))})).catch((function(t){t.response.data.success?(console.log("berhasil"),e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})):alert("Lisensi ini sudah diaktivasi dengan domain lain.")}));case 3:e.dialogFormVisible=!1,e.getList();case 5:case"end":return t.stop()}}),t)})))()},handleUpdate:function(e){var t=this;this.licence=e.licence,this.product_code=e.code,this.company=e.company,this.address=e.address,this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e={licence:this.licence,product_code:this.product_code};localStorage.setItem("licence",e.licence),localStorage.setItem("product_code",e.product_code),this.dialogFormVisible=!1,this.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3}),this.getList()},handleDelete:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].delete("/licence/delete").then((function(e){a.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})}));case 2:a.getList();case 3:case"end":return e.stop()}}),e)})))()}}},c=o,r=a("2877"),d=Object(r["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports}}]);